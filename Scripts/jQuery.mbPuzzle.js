$(document).ready(function(){function t(t,o){var n=!1,p=$("#board").children("div:nth-child("+i+")").css("left"),s=$("#board").children("div:nth-child("+i+")").css("top"),d=$(t).css("left"),c=$(t).css("top");p==d&&c==parseInt(s)-o+"px"&&(n=!0),p==d&&c==parseInt(s)+o+"px"&&(n=!0),parseInt(p)-o+"px"==d&&c==s&&(n=!0),parseInt(p)+o+"px"==d&&c==s&&(n=!0),n&&($(t).css("z-index",r++),$(t).animate({left:p,top:s},200,function(){$("#board").children("div:nth-child("+i+")").css("left",d),$("#board").children("div:nth-child("+i+")").css("top",c),e()}),a+=1,$("#totalmoves").text(a),$("#lblstatus").text("In Progress"))}function o(t){for(var o,e,n=t.length;0!==n;)e=Math.floor(Math.random()*n),n-=1,o=t[n],t[n]=t[e],t[e]=o;return t}function e(){for(var t=$("#board").find("div"),o=!0,e=0;e<t.length;e++){var s=$(t[e]).attr("id"),r=$(t[e]).css("left"),i=$(t[e]).css("top");0!=s||"0px"==r&&"0px"==i||(o=!1),1!=s||"100px"==r&&"0px"==i||(o=!1),2!=s||"200px"==r&&"0px"==i||(o=!1),3!=s||"300px"==r&&"0px"==i||(o=!1),4!=s||"0px"==r&&"100px"==i||(o=!1),5!=s||"100px"==r&&"100px"==i||(o=!1),6!=s||"200px"==r&&"100px"==i||(o=!1),7!=s||"300px"==r&&"100px"==i||(o=!1),8!=s||"0px"==r&&"200px"==i||(o=!1),9!=s||"100px"==r&&"200px"==i||(o=!1),10!=s||"200px"==r&&"200px"==i||(o=!1),11!=s||"300px"==r&&"200px"==i||(o=!1),12!=s||"0px"==r&&"300px"==i||(o=!1),13!=s||"100px"==r&&"300px"==i||(o=!1),14!=s||"200px"==r&&"300px"==i||(o=!1),15!=s||"300px"==r&&"300px"==i||(o=!1)}o&&(d=!0,$("#txtscore").text(a*p()),$("#lblstatus").text("Completed"),n("#gamestatus",!0))}function n(t){$(t).fadeOut("slow",function(){$(this).fadeIn("slow",function(){$(this).css("color","green")})})}function p(){if(!c.length)for(var t=0;f>t;t++)c.push(t);var o=Math.floor(Math.random()*c.length),e=c[o];return c.splice(o,1),e}var s,r=1,i=16,a=0,d=!1;$.fn.extend({fifteen:function(o,e){var n="#"+$(this).attr("id"),p=4*o+"px";$(n).html('<div id="board"></div>'),$("#board").css({position:"absolute",width:p,height:p,border:"1px solid gray"});for(var s=0;16>s;s++)$("#board").append("<div id="+s+" style='background: #ffffff url("+e+") no-repeat; left: "+s%4*o+"px; top: "+Math.floor(s/4)*o+"px; width: "+o+"px; height: "+o+"px; background-position: "+-(s%4)*o+"px "+-Math.floor(s/4)*o+"px '></div>");$("#board").children("div:nth-child("+i+")").css({backgroundImage:"",background:"#ffffff"}),$("#board").children("div").click(function(){d||t(this,o)})}}),$.fn.extend({randomize:function(){var t=$("#board").find("div");t=o(t);for(var e=0;e<t.length;e++){var r=(p(),e%4*100),i=100*Math.floor(e/4);$(t[e]).css("left",i+"px"),$(t[e]).css("top",r+"px"),s=t[e]}for(var e=0;e<t.length;e++)if("none"==$(t[e]).css("backgroundImage")){var r=$(t[e]).css("left"),i=$(t[e]).css("top"),c=$(s);$(c).css("left",r),$(c).css("top",i),$(t[e]).css("left","300px"),$(t[e]).css("top","300px")}a=0,d=!1,n("#gamestatus",!1),$("#totalmoves").text(a)}});var c=[],f=15;$("#game_object").fifteen(100,"CSS/Puzzle1.jpg"),$("#board").randomize()}),$(document).bind("contextmenu",function(t){t.preventDefault(),$("div.custom-menu").hide(),$("<div class='custom-menu'>Copyright &copy; "+(new Date).getFullYear()+" Manoj Kishor Bhoir</div>").appendTo("body").css({top:t.pageY+"px",left:t.pageX+"px"})}).bind("click",function(){$("div.custom-menu").hide()});